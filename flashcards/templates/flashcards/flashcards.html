{% extends "learners/base_flashcards.html" %}
{% load static %}
{% block flashcards %}
    <link rel="stylesheet" href="{% static 'learners/flashcards.css' %}">
<<<<<<< HEAD
    <div class="common-heading">
=======
    <div class="flashcard-container">
        <div class="flashcard-header">
            <div class="common-heading">{{ Subject }}</div>
            <p class="flashcard-info"><strong>Owner: {{ owner.username }}</strong></p>
            <p class="flashcard-info"><strong>Tag: {{ tag.name }}</strong></p>
        </div>
        <div class="flashcard-button-container">
            <button id="flashcardButton" class="flashcard-button" onclick="flipFlashCard()" data_question="" data_answer="">
            </button>
        </div>
        <div class="flashcard-nav-buttons">
            <button class="nav-button prev-button" onclick="showPreviousCard()">Previous</button>
            <button class="nav-button next-button" onclick="showNextCard()">Next</button>
        </div>
>>>>>>> uwu
    </div>
    <script>
        var flashcards = [
            {% for flashcard in flashcardList %}
                { question: "{{ flashcard.question }}", answer: "{{ flashcard.answer }}" },
            {% endfor %}
        ];

        var currentFlashcardIndex = 0;
        var flashcardButton = document.getElementById('flashcardButton');

        function showFlashcard(index) {
            flashcardButton.setAttribute('data_question', flashcards[index].question);
            flashcardButton.setAttribute('data_answer', flashcards[index].answer);
            flashcardButton.innerText = flashcardButton.getAttribute('data_question');
        }

        function showPreviousCard() {
            currentFlashcardIndex = Math.max(currentFlashcardIndex - 1, 0);
            showFlashcard(currentFlashcardIndex);
        }

        function showNextCard() {
            currentFlashcardIndex = Math.min(currentFlashcardIndex + 1, flashcards.length - 1);
            showFlashcard(currentFlashcardIndex);
        }

        function flipFlashCard() {
            var question = flashcardButton.getAttribute("data_question");
            var answer = flashcardButton.getAttribute("data_answer");

            if (flashcardButton.innerText == question) {
                flashcardButton.innerText = answer;
            } else {
                flashcardButton.innerText = question;
            }
        }

        showFlashcard(currentFlashcardIndex);
    </script>
{% endblock %}